/* style.css */
:root{
  --bg:#070a12;
  --bg2:#0a1020;
  --card:rgba(16,22,40,.62);
  --card2:rgba(16,22,40,.78);
  --stroke:rgba(255,255,255,.08);
  --stroke2:rgba(255,255,255,.12);
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.62);
  --muted2:rgba(255,255,255,.48);
  --blue:#3b82f6;
  --green:#2dd4bf;
  --amber:#fbbf24;
  --purple:#a78bfa;
  --shadow: 0 14px 50px rgba(0,0,0,.55);
  --radius:22px;
  --radius2:16px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--text);
  background:var(--bg);
  -webkit-font-smoothing:antialiased;
  overflow-x:hidden;
  -webkit-text-size-adjust:100%;
}

.hidden{display:none!important}
.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
.small{font-size:12px}

button{font-family:inherit}
a{color:inherit}

/* ===== MESH BG ===== */
#mesh-bg{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
}
#meshCanvas{
  width:100%;
  height:100%;
  display:block;
}
.mesh-overlay{
  position:absolute;
  inset:0;
  background:
    radial-gradient(1200px 700px at 20% 10%, rgba(59,130,246,.12), transparent 55%),
    radial-gradient(900px 650px at 80% 30%, rgba(45,212,191,.10), transparent 60%),
    radial-gradient(1100px 800px at 50% 80%, rgba(167,139,250,.09), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,.30), rgba(0,0,0,.60));
}

/* ===== SHELL (PLATTFORM, HEL SIDA) ===== */
.shell{
  position:relative;
  z-index:2;

  width:100%;
  margin:0 auto;

  /* Plattformkänsla: bredare på desktop, men samma “storlek” på mobile */
  max-width:1180px;
  padding:16px;
  padding-bottom:92px;
}

@media (min-width:1024px){
  .shell{
    max-width:1440px; /* mer “plattform deluxe” */
    padding:20px 22px 96px;
  }
}

/* ===== TOPBAR ===== */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:14px 14px;
  border-radius:28px;
  background:rgba(8,12,24,.55);
  border:1px solid var(--stroke);
  box-shadow:var(--shadow);
  backdrop-filter: blur(14px);
}

.topbar-left{display:flex;align-items:center;gap:10px}
.brand{display:flex;align-items:center;gap:10px}
.brand-icon{
  width:44px;height:44px;border-radius:14px;
  display:grid;place-items:center;
  background:linear-gradient(180deg, rgba(59,130,246,.25), rgba(59,130,246,.08));
  border:1px solid rgba(59,130,246,.22);
}
.brand-text{font-weight:800;letter-spacing:.2px;font-size:18px}

.topbar-right{display:flex;align-items:center;gap:10px}

.icon-button{
  width:44px;height:44px;border-radius:14px;
  background:rgba(255,255,255,.05);
  border:1px solid var(--stroke);
  color:var(--text);
  display:grid;place-items:center;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
}
.icon-button:active{transform:translateY(1px)}
.only-mobile{display:none}

.status-pill{
  display:flex;align-items:center;gap:8px;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
}
.status-pill .sep{opacity:.45}
.dot{width:9px;height:9px;border-radius:99px;display:inline-block;background:rgba(255,255,255,.25)}
.dot.live{background:rgba(34,197,94,.95); box-shadow:0 0 0 6px rgba(34,197,94,.12)}

.btn-connect{
  display:flex;align-items:center;gap:10px;
  border-radius:999px;
  padding:10px 12px;
  border:1px solid rgba(59,130,246,.22);
  background:linear-gradient(180deg, rgba(59,130,246,.24), rgba(59,130,246,.08));
  color:var(--text);
  box-shadow: 0 18px 60px rgba(0,0,0,.45);
}
.btn-connect .label{font-weight:700}
.btn-connect .sub{opacity:.65;font-size:12px}

.alerts-btn{
  display:flex;align-items:center;gap:8px;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  color:var(--text);
}
.badge{
  min-width:22px;height:22px;border-radius:999px;
  display:grid;place-items:center;
  font-size:12px;font-weight:800;
  background:rgba(251,191,36,.18);
  border:1px solid rgba(251,191,36,.25);
}

/* ===== TICKER ===== */
.ticker{
  margin-top:12px;
  border-radius:18px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.035);
  overflow:hidden;
}
.ticker-track{
  display:flex;
  gap:14px;
  padding:10px 12px;
  white-space:nowrap;
  will-change:transform;
}
.tick{
  display:flex;align-items:center;gap:10px;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(0,0,0,.22);
}
.tick strong{font-weight:800}
.tick .tag{
  font-size:12px;
  opacity:.75;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.08);
}
.tick .val{font-weight:800; color:rgba(52,211,153,.95)}

/* ===== MAIN LAYOUT ===== */
.main{
  margin-top:14px;
  display:grid;
  grid-template-columns: 290px 1fr;
  gap:14px;
  align-items:start;
}

/* Sidebar: alltid “plattform” på desktop */
.sidebar{
  position:sticky;
  top:14px;
  height: calc(100vh - 170px);
  border-radius:26px;
  padding:14px;
  background:rgba(8,12,24,.52);
  border:1px solid var(--stroke);
  box-shadow:var(--shadow);
  backdrop-filter: blur(14px);
  overflow:auto;
}
.sidebar-title{font-size:12px;letter-spacing:.16em;text-transform:uppercase;opacity:.55;margin:8px 10px}
.sidebar-block{margin-bottom:12px}

.nav-item{
  width:100%;
  text-align:left;
  padding:12px 12px;
  border-radius:16px;
  border:1px solid transparent;
  background:transparent;
  color:rgba(255,255,255,.86);
  display:flex;
  gap:10px;
  align-items:center;
}
.nav-item:hover{background:rgba(255,255,255,.04); border-color:rgba(255,255,255,.06)}
.nav-item.active{
  background:linear-gradient(180deg, rgba(59,130,246,.22), rgba(59,130,246,.08));
  border-color:rgba(59,130,246,.18);
}

.sidebar-footer{
  margin-top:14px;
  padding-top:12px;
  border-top:1px solid rgba(255,255,255,.06);
  display:grid;
  gap:10px;
}
.btn-danger{
  padding:12px 12px;
  border-radius:16px;
  border:1px solid rgba(244,63,94,.22);
  background:rgba(244,63,94,.10);
  color:rgba(255,255,255,.9);
  font-weight:800;
}

/* Content */
.content{
  min-height: 60vh;
}

/* Cards */
.card{
  border-radius:26px;
  background:var(--card);
  border:1px solid var(--stroke);
  box-shadow:var(--shadow);
  backdrop-filter: blur(14px);
}

/* Hero */
.hero{padding:18px 18px 14px}
.hero-top{display:flex;align-items:center;justify-content:space-between;gap:12px}
.avatar-chip{
  display:flex;align-items:center;gap:12px;
  padding:12px 14px;
  border-radius:999px;
  border:1px solid rgba(59,130,246,.16);
  background:rgba(59,130,246,.08);
  color:var(--text);
}
.avatar-circle{
  width:36px;height:36px;border-radius:999px;
  display:grid;place-items:center;
  background:rgba(59,130,246,.22);
  border:1px solid rgba(59,130,246,.18);
  font-weight:900;
}
.avatar-handle{font-weight:900}
.avatar-sub{font-size:12px;opacity:.7}

.hero-mini{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:8px}
.pill{
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(0,0,0,.22);
  font-weight:800;
  font-size:12px;
}
.pill.soft{background:rgba(255,255,255,.04)}
.pill.outline{background:transparent}

.hero-title{margin-top:12px}
.hero-title h1{margin:0;font-size:44px;letter-spacing:-.02em}
.hero-title p{margin:8px 0 0;opacity:.68;max-width:62ch;line-height:1.35}

.hero-actions{margin-top:12px;display:flex;gap:10px;flex-wrap:wrap}
.btn-ghost{
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.04);
  color:rgba(255,255,255,.92);
  font-weight:900;
}
.btn-ghost:active{transform:translateY(1px)}

.hero-stats{
  margin-top:14px;
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap:10px;
}
.stat{
  border-radius:18px;
  border:1px solid rgba(255,255,255,.06);
  background:rgba(0,0,0,.18);
  padding:12px 12px;
}
.stat .k{font-size:11px;letter-spacing:.14em;text-transform:uppercase;opacity:.6}
.stat .v{font-weight:900;margin-top:6px}

.hero-kpis{
  margin-top:10px;
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap:10px;
}
.kpi{
  border-radius:18px;
  border:1px solid rgba(255,255,255,.06);
  background:rgba(0,0,0,.18);
  padding:12px 12px;
}
.kpi .k{font-size:11px;letter-spacing:.14em;text-transform:uppercase;opacity:.6}
.kpi .v{font-weight:950;margin-top:6px}

.note{
  margin-top:10px;
  padding:10px 12px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.06);
  background:rgba(255,255,255,.03);
  color:rgba(255,255,255,.72);
  font-size:12px;
}

/* Views */
.view{display:none}
.view.active{display:block}

.grid2{
  margin-top:12px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}

.panel{
  padding:14px;
  border-radius:22px;
  border:1px solid rgba(255,255,255,.06);
  background:rgba(0,0,0,.18);
}

.panel h3{margin:0 0 8px;font-size:14px;letter-spacing:.02em}
.panel .sub{margin:0 0 12px;opacity:.65;font-size:12px}

.list{
  display:grid;
  gap:10px;
}
.row{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  padding:12px 12px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.06);
  background:rgba(0,0,0,.18);
}
.row .left{display:flex;align-items:center;gap:10px}
.ico{
  width:34px;height:34px;border-radius:12px;
  display:grid;place-items:center;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.04);
}
.row .meta{display:grid;gap:2px}
.row .meta .t{font-weight:900}
.row .meta .s{font-size:12px;opacity:.65}
.chip{
  padding:8px 10px;border-radius:999px;
  border:1px solid rgba(255,255,255,.08);
  font-weight:900;
  font-size:12px;
  background:rgba(255,255,255,.04);
}
.chip-green{border-color:rgba(45,212,191,.24); background:rgba(45,212,191,.10)}
.chip-purple{border-color:rgba(167,139,250,.24); background:rgba(167,139,250,.10)}
.chip-amber{border-color:rgba(251,191,36,.24); background:rgba(251,191,36,.10)}

/* Bottom nav */
.bottom-nav{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom:12px;
  width: min(760px, calc(100% - 18px));
  padding:10px;
  border-radius:22px;
  background:rgba(8,12,24,.72);
  border:1px solid rgba(255,255,255,.10);
  box-shadow: 0 24px 90px rgba(0,0,0,.62);
  backdrop-filter: blur(16px);
  display:flex;
  gap:10px;
  z-index:5;
}

.bottom-btn{
  flex:1;
  padding:12px 10px;
  border-radius:18px;
  border:1px solid transparent;
  background:transparent;
  color:rgba(255,255,255,.78);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  font-weight:900;
}
.bottom-btn span{font-size:12px;opacity:.75}
.bottom-btn.active{
  background:linear-gradient(180deg, rgba(59,130,246,.22), rgba(59,130,246,.08));
  border-color:rgba(59,130,246,.18);
  color:rgba(255,255,255,.92);
}

/* Toast */
.toast{
  position:fixed;
  top:14px;
  left:50%;
  transform:translateX(-50%);
  z-index:9;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.55);
  box-shadow: 0 20px 80px rgba(0,0,0,.55);
  opacity:0;
  pointer-events:none;
  transition:opacity .18s ease, transform .18s ease;
}
.toast.show{
  opacity:1;
  transform:translateX(-50%) translateY(0);
}

/* Settings sheet */
.sheet-backdrop{
  position:fixed; inset:0;
  z-index:20;
  background:rgba(0,0,0,.55);
  backdrop-filter: blur(10px);
  display:grid;
  place-items:end center;
  padding:16px;
}
.sheet{
  width:min(980px, 100%);
  border-radius:26px;
  background:rgba(12,16,30,.86);
  border:1px solid rgba(255,255,255,.10);
  box-shadow: 0 30px 120px rgba(0,0,0,.70);
  overflow:hidden;
}
.sheet-header{
  padding:14px 14px;
  display:flex;align-items:center;justify-content:space-between;
  border-bottom:1px solid rgba(255,255,255,.08);
}
.sheet-title{font-weight:950}
.sheet-section{padding:14px 14px}
.sheet-section h3{margin:0 0 8px}
.sheet-sub{margin:0 0 12px;opacity:.65;font-size:12px}
.settings-row{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
.settings-item,.settings-pill{
  padding:12px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.06);
  background:rgba(0,0,0,.18);
}
.settings-label{font-size:11px;letter-spacing:.14em;text-transform:uppercase;opacity:.6}
.settings-main{font-weight:950;margin-top:6px}
.settings-sub{font-size:12px;opacity:.65;margin-top:2px}
.wallet-address{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
.settings-list{margin:10px 0 0; padding-left:18px; opacity:.78}
.role-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
.role-card{
  text-align:left;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.04);
  padding:12px;
  color:rgba(255,255,255,.9);
}
.role-card h4{margin:0 0 4px}
.role-card p{margin:0;opacity:.65;font-size:12px}
.role-card.selected{
  border-color:rgba(59,130,246,.22);
  background:rgba(59,130,246,.12);
}
.btn-primary{
  margin-top:10px;
  padding:12px 14px;
  border-radius:18px;
  border:1px solid rgba(59,130,246,.22);
  background:linear-gradient(180deg, rgba(59,130,246,.28), rgba(59,130,246,.10));
  color:rgba(255,255,255,.95);
  font-weight:950;
}
.btn-primary:disabled{opacity:.45}

/* ===== RESPONSIVE ===== */
@media (max-width: 980px){
  .main{grid-template-columns: 1fr}
  .sidebar{
    position:fixed;
    left:12px;
    right:12px;
    top:84px;
    height: calc(100vh - 190px);
    z-index:12;
    transform:translateY(-8px);
    opacity:0;
    pointer-events:none;
    transition: opacity .18s ease, transform .18s ease;
  }
  .sidebar.open{
    opacity:1;
    pointer-events:auto;
    transform:translateY(0);
  }
  .only-mobile{display:grid}
  .hero-title h1{font-size:40px}
  .hero-stats,.hero-kpis{grid-template-columns: 1fr 1fr}
  .grid2{grid-template-columns:1fr}
  .settings-row{grid-template-columns:1fr}
  .role-grid{grid-template-columns:1fr}
}

@media (max-width: 420px){
  .shell{padding:14px; padding-bottom:92px}
  .topbar{padding:12px}
  .brand-text{font-size:17px}
  .hero-title h1{font-size:36px}
}

/* iOS: låt pinch zoom funka stabilt */
#contentRoot, .shell, .topbar, .sidebar, .bottom-nav{
  transform:none;
}